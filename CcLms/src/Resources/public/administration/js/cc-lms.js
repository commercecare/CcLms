(this.webpackJsonp=this.webpackJsonp||[]).push([["cc-lms"],{CkOj:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("lSNA"),r=n.n(i),s=n("lO2t"),a=n("lYO9");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){var t=function(e){var t;if(s.a.isString(e))try{t=JSON.parse(e)}catch(e){return!1}else{if(!s.a.isObject(e)||s.a.isArray(e))return!1;t=e}return t}(e);if(!t)return null;if(!0===t.parsed||!function(e){return void 0!==e.data||void 0!==e.errors||void 0!==e.links||void 0!==e.meta}(t))return t;var n=function(e){var t={links:null,errors:null,data:null,associations:null,aggregations:null};if(e.errors)return t.errors=e.errors,t;var n=function(e){var t=new Map;if(!e||!e.length)return t;return e.forEach((function(e){var n="".concat(e.type,"-").concat(e.id);t.set(n,e)})),t}(e.included);if(s.a.isArray(e.data))t.data=e.data.map((function(e){var i=l(e,n);return Object(a.g)(i,"associationLinks")&&(t.associations=c({},t.associations,{},i.associationLinks),delete i.associationLinks),i}));else if(s.a.isObject(e.data)){var i=l(e.data,n);Object.prototype.hasOwnProperty.call(i,"associationLinks")&&(t.associations=c({},t.associations,{},i.associationLinks),delete i.associationLinks),t.data=i}else t.data=null;e.meta&&Object.keys(e.meta).length&&(t.meta=d(e.meta));e.links&&Object.keys(e.links).length&&(t.links=e.links);e.aggregations&&Object.keys(e.aggregations).length&&(t.aggregations=e.aggregations);return t}(t);return n.parsed=!0,n}function l(e,t){var n={id:e.id,type:e.type,links:e.links||{},meta:e.meta||{}};e.attributes&&Object.keys(e.attributes).length>0&&(n=c({},n,{},d(e.attributes)));if(e.relationships){var i=function(e,t){var n={},i={};return Object.keys(e).forEach((function(r){var a=e[r];if(a.links&&Object.keys(a.links).length&&(i[r]=a.links.related),a.data){var o=a.data;s.a.isArray(o)?n[r]=o.map((function(e){return p(e,t)})):s.a.isObject(o)?n[r]=p(o,t):n[r]=null}})),{mappedRelations:n,associationLinks:i}}(e.relationships,t);n=c({},n,{},i.mappedRelations,{},{associationLinks:i.associationLinks})}return n}function d(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n],r=n.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}));t[r]=i})),t}function p(e,t){var n="".concat(e.type,"-").concat(e.id);return t.has(n)?l(t.get(n),t):e}},SwLI:function(e,t,n){"use strict";n.r(t);var i=n("lwsE"),r=n.n(i),s=n("W8MJ"),a=n.n(s),o=n("CkOj"),c=function(){function e(t,n,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/vnd.api+json";r()(this,e),this.httpClient=t,this.loginService=n,this.apiEndpoint=i,this.contentType=s}return a()(e,[{key:"getList",value:function(t){var n=t.page,i=void 0===n?1:n,r=t.limit,s=void 0===r?25:r,a=t.sortBy,o=t.sortDirection,c=void 0===o?"asc":o,u=t.sortings,l=t.queries,d=t.term,p=t.criteria,h=t.aggregations,g=t.associations,f=t.headers,v=t.versionId,y=t.ids,m=t["total-count-mode"],b=void 0===m?0:m;this.showDeprecationWarning("getList");var O=this.getBasicHeaders(f),k={page:i,limit:s};return u?k.sort=u:a&&a.length&&(k.sort=("asc"===c.toLowerCase()?"":"-")+a),y&&(k.ids=y.join("|")),d&&(k.term=d),p&&(k.filter=[p.getQuery()]),h&&(k.aggregations=h),g&&(k.associations=g),v&&(O=Object.assign(O,e.getVersionHeader(v))),l&&(k.query=l),b&&(k["total-count-mode"]=b),k.term&&k.term.length||k.filter&&k.filter.length||k.aggregations||k.sort||k.queries||k.associations?this.httpClient.post("".concat(this.getApiBasePath(null,"search")),k,{headers:O}).then((function(t){return e.handleResponse(t)})):this.httpClient.get(this.getApiBasePath(),{params:k,headers:O}).then((function(t){return e.handleResponse(t)}))}},{key:"getById",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.showDeprecationWarning("getById"),!t)return Promise.reject(new Error("Missing required argument: id"));var r=n,s=this.getBasicHeaders(i);return this.httpClient.get(this.getApiBasePath(t),{params:r,headers:s}).then((function(t){return e.handleResponse(t)}))}},{key:"updateById",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(this.showDeprecationWarning("updateById"),!t)return Promise.reject(new Error("Missing required argument: id"));var s=i,a=this.getBasicHeaders(r);return this.httpClient.patch(this.getApiBasePath(t),n,{params:s,headers:a}).then((function(t){return e.handleResponse(t)}))}},{key:"deleteAssociation",value:function(e,t,n,i){if(this.showDeprecationWarning("deleteAssociation"),!e||!n||!n)return Promise.reject(new Error("Missing required arguments."));var r=this.getBasicHeaders(i);return this.httpClient.delete("".concat(this.getApiBasePath(e),"/").concat(t,"/").concat(n),{headers:r}).then((function(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(e)}))}},{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.showDeprecationWarning("create");var r=n,s=this.getBasicHeaders(i);return this.httpClient.post(this.getApiBasePath(),t,{params:r,headers:s}).then((function(t){return e.handleResponse(t)}))}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.showDeprecationWarning("delete"),!e)return Promise.reject(new Error("Missing required argument: id"));var i=Object.assign({},t),r=this.getBasicHeaders(n);return this.httpClient.delete(this.getApiBasePath(e),{params:i,headers:r})}},{key:"clone",value:function(t){return this.showDeprecationWarning("clone"),t?this.httpClient.post("/_action/clone/".concat(this.apiEndpoint,"/").concat(t),null,{headers:this.getBasicHeaders()}).then((function(t){return e.handleResponse(t)})):Promise.reject(new Error("Missing required argument: id"))}},{key:"versionize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.showDeprecationWarning("versionize");var i="/_action/version/".concat(this.apiEndpoint,"/").concat(e),r=Object.assign({},t),s=this.getBasicHeaders(n);return this.httpClient.post(i,{},{params:r,headers:s})}},{key:"mergeVersion",value:function(t,n,i,r){if(this.showDeprecationWarning("mergeVersion"),!t)return Promise.reject(new Error("Missing required argument: id"));if(!n)return Promise.reject(new Error("Missing required argument: versionId"));var s=Object.assign({},i),a=Object.assign(e.getVersionHeader(n),this.getBasicHeaders(r)),o="_action/version/merge/".concat(this.apiEndpoint,"/").concat(n);return this.httpClient.post(o,{},{params:s,headers:a})}},{key:"getApiBasePath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";return t&&t.length&&(n+="".concat(t,"/")),e&&e.length>0?"".concat(n).concat(this.apiEndpoint,"/").concat(e):"".concat(n).concat(this.apiEndpoint)}},{key:"getBasicHeaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={Accept:this.contentType,Authorization:"Bearer ".concat(this.loginService.getToken()),"Content-Type":"application/json"};return Object.assign({},t,e)}},{key:"showDeprecationWarning",value:function(e){Shopware.Utils.debug.warn("".concat(this.apiEndpoint," - Api Service"),"The ".concat(e," function is deprecated. Please use the 'repository.data.js' class for data handling of entities."))}},{key:"getApiVersion",value:function(){return Shopware.Context.api.apiVersion-1}},{key:"apiEndpoint",get:function(){return this.endpoint},set:function(e){this.endpoint=e}},{key:"httpClient",get:function(){return this.client},set:function(e){this.client=e}},{key:"contentType",get:function(){return this.type},set:function(e){this.type=e}}],[{key:"handleResponse",value:function(t){if(null===t.data||void 0===t.data)return t;var n=t.data,i=t.headers;return i&&i["content-type"]&&"application/vnd.api+json"===i["content-type"]&&(n=e.parseJsonApiData(n)),n}},{key:"parseJsonApiData",value:function(e){return Object(o.a)(e)}},{key:"getVersionHeader",value:function(e){return{"sw-version-id":e}}}]),e}();t.default=c},YHlv:function(e,t){e.exports='{% block sw_order_list_smart_bar_actions_slot %}\n    {% parent %}\n\n    {% block sw_order_list_smart_bar_actions_print %}\n\n        {% block sw_order_list_smart_bar_actions_print_actions %}\n            <sw-single-select class="sw-order-list__print-actions-select"\n                              v-model="printAction"\n                              :placeholder="$tc(\'cc_lms.sw-order.list.print-action.placeholder\')"\n                              :options="printActions"\n                              size="medium">\n            </sw-single-select>\n        {% endblock %}\n\n        {% block sw_order_list_smart_bar_actions_print_button %}\n            <sw-button-process\n                    class="sw-order-list__print"\n                    v-tooltip="{\n                                    message: $tc(\'sw-privileges.tooltip.warning\'),\n                                    disabled: acl.can(\'order.creator\'),\n                                    showOnDisabledElements: true\n                                }"\n                    :isLoading="isLoading"\n                    :processSuccess="isPrintSuccessful"\n                    :disabled="!acl.can(\'order.creator\') || isLoading || selectedOrdersIds.length<1 || !printAction"\n                    variant="primary"\n                    @process-finish="printFinish"\n                    @click.prevent="onPrint">\n                {{ $tc(\'cc_lms.sw-order.list.print-action.button\') }}\n            </sw-button-process>\n        {% endblock %}\n\n    {% endblock %}\n\n{% endblock %}'},"aN/d":function(e){e.exports=JSON.parse('{"cc_lms":{"sw-order":{"list":{"print-action":{"button":"Execute","placeholder":"Actions","options":{"invoice":"Print invoices","delivery":"Print delivery notes","dhl":"Print DHL labels"}},"messagePrintSuccess":"Printed successfully.","messagePrintError":"An error occurred while printing."}}}}')},hBuU:function(e,t,n){"use strict";n.r(t);var i=n("SwLI");class r extends i.default{constructor(e,t,n="cc_lms"){super(e,t,n),this.name="ccLmsPrintService"}print(e,t,n={},r={}){const s=this.getBasicHeaders(r);let a={action:e,ids:t};return a=Object.assign(a,n),this.httpClient.get(`/_action/${this.getApiBasePath()}/print`,{responseType:"blob",params:a,headers:s}).then(e=>i.default.handleResponse(e))}}Shopware.Application.addServiceProvider("ccLmsPrintService",e=>new r(Shopware.Application.getContainer("init").httpClient,Shopware.Service("loginService")));var s=n("YHlv"),a=n.n(s);n("pzuF");const{Component:o,Mixin:c}=Shopware;o.override("sw-order-list",{template:a.a,inject:["ccLmsPrintService"],mixins:[c.getByName("notification")],props:{printAction:{type:String,required:!1,default:null}},data(){return{isPrintSuccessful:!1,printActions:[{label:this.$tc("cc_lms.sw-order.list.print-action.options.invoice"),value:"invoice"},{label:this.$tc("cc_lms.sw-order.list.print-action.options.delivery"),value:"delivery"},{label:this.$tc("cc_lms.sw-order.list.print-action.options.dhl"),value:"dhl"}]}},computed:{selectedOrdersIds(){return Object.keys(this.selection)}},methods:{printFinish(){this.isPrintSuccessful=!1},async onPrint(){return this.isLoading=!0,this.isPrintSuccessful=!1,this.ccLmsPrintService.print(this.printAction,this.selectedOrdersIds).then(e=>{if(this.isLoading=!1,this.isPrintSuccessful=!0,this.createdComponent(),e&&e.size){let t=document.createElement("a");return t.href=window.URL.createObjectURL(e),t.download=this.printAction+".zip",t.click(),void this.createNotificationSuccess({title:this.$tc("global.default.success"),message:this.$tc("cc_lms.sw-order.list.messagePrintSuccess")})}this.createNotificationError({title:this.$tc("global.default.error"),message:this.$tc("cc_lms.sw-order.list.messagePrintError"),autoClose:!1})}).catch(e=>{this.isLoading=!1})}}});var u=n("zyln"),l=n("aN/d");Shopware.Locale.extend("de-DE",u),Shopware.Locale.extend("en-GB",l)},lO2t:function(e,t,n){"use strict";n.d(t,"b",(function(){return S}));var i=n("GoyQ"),r=n.n(i),s=n("YO3V"),a=n.n(s),o=n("E+oP"),c=n.n(o),u=n("wAXd"),l=n.n(u),d=n("Z0cm"),p=n.n(d),h=n("lSCD"),g=n.n(h),f=n("YiAA"),v=n.n(f),y=n("4qC0"),m=n.n(y),b=n("Znm+"),O=n.n(b),k=n("Y+p1"),w=n.n(k),j=n("UB5X"),P=n.n(j);function S(e){return void 0===e}t.a={isObject:r.a,isPlainObject:a.a,isEmpty:c.a,isRegExp:l.a,isArray:p.a,isFunction:g.a,isDate:v.a,isString:m.a,isBoolean:O.a,isEqual:w.a,isNumber:P.a,isUndefined:S}},lYO9:function(e,t,n){"use strict";n.d(t,"h",(function(){return O})),n.d(t,"i",(function(){return k})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return j})),n.d(t,"k",(function(){return P})),n.d(t,"j",(function(){return S})),n.d(t,"g",(function(){return A})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return E})),n.d(t,"f",(function(){return B})),n.d(t,"e",(function(){return D}));var i=n("lSNA"),r=n.n(i),s=n("QkVN"),a=n.n(s),o=n("JBE3"),c=n.n(o),u=n("BkRI"),l=n.n(u),d=n("mwIZ"),p=n.n(d),h=n("D1y2"),g=n.n(h),f=n("JZM8"),v=n.n(f),y=n("lO2t");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}a.a,a.a,l.a,p.a,g.a,v.a;var O=a.a,k=c.a,w=l.a,j=p.a,P=g.a,S=v.a;function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.parse(JSON.stringify(e))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(e,t,(function(e,t){if(Array.isArray(e))return e.concat(t)}))}function B(e,t){return e===t?{}:y.a.isObject(e)&&y.a.isObject(t)?y.a.isDate(e)||y.a.isDate(t)?e.valueOf()===t.valueOf()?{}:t:Object.keys(t).reduce((function(n,i){if(!A(e,i))return b(b({},n),{},r()({},i,t[i]));if(y.a.isArray(t[i])){var s=D(e[i],t[i]);return Object.keys(s).length>0?b(b({},n),{},r()({},i,t[i])):n}if(y.a.isObject(t[i])){var a=B(e[i],t[i]);return!y.a.isObject(a)||Object.keys(a).length>0?b(b({},n),{},r()({},i,a)):n}return e[i]!==t[i]?b(b({},n),{},r()({},i,t[i])):n}),{}):t}function D(e,t){if(e===t)return[];if(!y.a.isArray(e)||!y.a.isArray(t))return t;if(e.length<=0&&t.length<=0)return[];if(e.length!==t.length)return t;if(!y.a.isObject(t[0]))return t.filter((function(t){return!e.includes(t)}));var n=[];return t.forEach((function(i,r){var s=B(e[r],t[r]);Object.keys(s).length>0&&n.push(t[r])})),n}},pzuF:function(e,t,n){var i=n("rHK9");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("00642990",i,!0,{})},rHK9:function(e,t,n){},zyln:function(e){e.exports=JSON.parse('{"cc_lms":{"sw-order":{"list":{"print-action":{"button":"Ausführen","placeholder":"Aktionen","options":{"invoice":"Rechnungen drucken","delivery":"Lieferscheine drucken","dhl":"Drucken Sie DHL-Etiketten"}},"messagePrintSuccess":"Erfolgreich gedruckt.","messagePrintError":"Während des Druckens ist ein Fehler aufgetreten."}}}}')}},[["hBuU","runtime","vendors-node"]]]);